(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1062:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(1067),i=a(858),s=a(6),c=a(10),l=a(8),p=a(5),m=a(7),u=a(27),d=a(1065),h=a(13),f=a(21),g=a(129),y=a(214),b=a(57),v=a(261),E=a(96),x=a(190),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).fetchNewFormulas=function(){var e=a.props,t=e.fetchFormulas,n=e.reorder,r=e.surveys,o=e.orders,i=e.location,s=new URLSearchParams(i.search).get("function"),c=new URLSearchParams(i.search).get("pubkey");"reorder"===s&&o.length>0?n(c||o[0].pubkey):"abandoned"===s&&r.length>0&&t(r[0].pubkey)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){0===this.props.formulas.length&&this.fetchNewFormulas()}},{key:"renderContent",value:function(){var e=this.props,t=e.classes,a=e.error,n=e.couponError;return e.formulas.length>0?r.a.createElement(d.a,{to:"/consultation/checkout"}):a||n?r.a.createElement(y.a,{href:"/account"}):r.a.createElement("div",{className:t.root},r.a.createElement(x.a,null,"Retrieving your formula..."),r.a.createElement(b.a,null))}},{key:"render",value:function(){return r.a.createElement(g.a,null,this.renderContent())}}]),t}(n.Component),O={fetchFormulas:v.fetchFormulas,reorder:E.reorder},S=Object(u.connect)(function(e){return{orders:f.a.orders.getOrders(e),surveys:f.a.user.getCompletedSurveys(e),couponError:f.a.user.getCouponError(e),formulas:f.a.checkout.getFormulas(e),error:f.a.checkout.getFormulasError(e)}},O)(Object(h.withStyles)(function(e){return{root:{minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)"),padding:45,textAlign:"center",flexDirection:"column",display:"flex",alignItems:"center"}}})(k)),A=a(836).a,j=a(77),C=a(49),w=a(192),N=a(209),P=a(45),T=a(899),R=a.n(T),F=a(53),U=a(65),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).navigateToUpload=function(){a.props.onSelfieAccept&&a.props.onSelfieAccept(),a.props.history.push("/consultation/checkout/success/upload/top")},a.navigateToLast=function(){a.props.onSelfieDeny&&a.props.onSelfieDeny(),a.props.history.push("/consultation/checkout/success/done-no-selfie")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.props.resetStore(),this.props.fetchUser(),this.props.invalidateOrders()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.title},"YOUR ORDER IS COMPLETE!"),r.a.createElement("div",{className:e.subTitle},"Our lab has received your consultation results and will begin creating your formulas."),Object(U.d)()&&r.a.createElement("span",null,r.a.createElement("div",{className:e.selfiesInfo},r.a.createElement("img",{src:R.a,alt:"selfie"}),r.a.createElement("h4",{className:e.headerTitle},"WANT US TO TAKE A SECOND LOOK?"),r.a.createElement("p",{className:e.lightText},"Upload 2 quick photos of your hair and one of our expert stylists will make sure we didn\u2019t miss anything in\u2028your consultation.")),r.a.createElement("div",{className:e.footerBtn},r.a.createElement(j.a,{id:"next-button",onClick:this.navigateToUpload},"Upload your photos"),r.a.createElement("button",{className:e.noThanks,id:"prev-button",onClick:this.navigateToLast},"No Thanks"))),!Object(U.d)()&&r.a.createElement("div",{className:e.checkoutSM},r.a.createElement("h4",null,"Follow us"),r.a.createElement("a",{href:F.a.instagram,rel:"noopener noreferrer",target:"_blank"},"Instagram"),r.a.createElement("a",{href:F.a.facebook,rel:"noopener noreferrer",target:"_blank"},"Facebook"),r.a.createElement("a",{href:F.a.twitter,rel:"noopener noreferrer",target:"_blank"},"Twitter"))))}}]),t}(n.Component),D=Object(u.connect)(function(){return{}},function(e){return{resetStore:function(){return e(Object(w.surveyClean)())},fetchUser:function(){return e(Object(C.fetchUser)())},invalidateOrders:function(){return e(Object(N.invalidateOrders)())},onSelfieAccept:function(){return e(Object(P.trackGtmEvent)("selfie_accept"))},onSelfieDeny:function(){return e(Object(P.trackGtmEvent)("selfie_deny"))}}})(Object(h.withStyles)(function(e){return{root:{alignItems:"center",backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)")},selfiesInfo:{fontFamily:e.typography.simplonNorm,background:"white",marginBottom:30,marginTop:50,padding:10,position:"relative",textAlign:"center","& img":{left:0,marginLeft:"auto",marginRight:"auto",marginTop:-45,position:"absolute",right:0,top:0,width:130},"& h4":{marginTop:"12%"}},container:{margin:"auto",padding:"20px",display:"flex",flexDirection:"column"},title:{margin:"auto",padding:"20px",fontSize:32,textAlign:"center"},subTitle:{margin:"0 30px",opacity:.7,textAlign:"center"},footerBtn:{alignItems:"center",display:"flex",flexDirection:"column-reverse",paddingBottom:10},noThanks:{background:"transparent",color:e.palette.common.peachRa,margin:0,border:"none",fontSize:12,textTransform:"uppercase",cursor:"pointer"},checkoutSM:{alignItems:"baseline",display:"flex",flexDirection:"row",fontSize:"1.3em",justifyContent:"space-around",margin:"50px auto",maxWidth:500,width:"100%","& a":{color:e.palette.common.peachRa},"& a:focus":{color:e.palette.common.peachRa},"& a:hover":{color:e.palette.common.peachRa},"& a:visited":{color:e.palette.common.peachRa}},lightText:{color:e.palette.common.grey,fontFamily:e.typography.simplonNorm,fontSize:"0.9em"},headerTitle:{fontWeight:200}}})(B)),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement("h3",null,"YOU\u2019RE ALL SET"),r.a.createElement("h4",{className:e.subContent},"We\u2019ll email you a note as soon\u2028 as your products ship."),r.a.createElement("div",{className:e.claimContainer},r.a.createElement("p",null,"GOOD"),r.a.createElement("p",null,"HAIR"),r.a.createElement("p",null,"DAYS"),r.a.createElement("p",null,"ONLY")),r.a.createElement("div",{className:e.checkoutSM},r.a.createElement("h4",null,"Follow us"),r.a.createElement("a",{href:F.a.instagram,rel:"noopener noreferrer",target:"_blank"},"Instagram"),r.a.createElement("a",{href:F.a.facebook,rel:"noopener noreferrer",target:"_blank"},"Facebook"),r.a.createElement("a",{href:F.a.twitter,rel:"noopener noreferrer",target:"_blank"},"Twitter"))))}}]),t}(n.Component),z=Object(h.withStyles)(function(e){return{root:{alignItems:"center",backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)")},container:{margin:"auto",padding:"20px",alignItems:"center",display:"flex",flexDirection:"column"},checkoutSM:{alignItems:"center",display:"flex",flexDirection:"column",fontSize:"1em",justifyContent:"space-around",margin:"50px auto",maxWidth:500,width:"100%","& a":{color:e.palette.common.peachRa},"& a:focus":{color:e.palette.common.peachRa},"& a:hover":{color:e.palette.common.peachRa},"& a:visited":{color:e.palette.common.peachRa}},claimContainer:{margin:"3vh 0","& p":{color:e.palette.common.peachRa,fontSize:"2.5em",lineHeight:"1em",opacity:1,margin:10}},subContent:{margin:"0 30px",fontWeight:200,textTransform:"uppercase",textAlign:"center"}}})(I),L=a(202),V=a(900),q=a.n(V),M=a(901),W=a.n(M),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleFile=function(e){return a.props.setSelfie(e[0])},a.navigateToConfirmation=function(){a.props.onValidate&&a.props.onValidate(),a.props.history.push("/consultation/checkout/success/upload/confirmation")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.selfies.length>0?this.props.selfies.find(function(e){return"selfie_side"===e.filename}):null;if(a){var n=URL.createObjectURL(a.content);return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.selfiesContainer},r.a.createElement("img",{src:n,width:"100%",alt:"uploaded"})),r.a.createElement("div",{className:t.footerBtn},r.a.createElement(j.a,{id:"next-button",onClick:this.navigateToConfirmation},"Continue"),r.a.createElement("button",{id:"prev-button",onClick:this.props.removeSelfie,className:t.noThanks},"Retake")))}return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.container},r.a.createElement("h4",{className:t.headerTitle},"NOW, take a photo of\u2028 THE SIDE OF YOUR HEAD, MAKING sure we can see as much of your length as possible, like this:"),r.a.createElement("div",{className:t.tutorial},r.a.createElement("div",{className:t.mtop2},r.a.createElement("img",{src:q.a,width:"100px",alt:"selfie side"})),r.a.createElement("p",{className:t.largerFont},"OR"),r.a.createElement("div",{className:t.mtop2},r.a.createElement("img",{src:W.a,width:"100px",alt:"selfie side"}))),r.a.createElement("p",{className:t.lightText},"We\u2019re looking at your length, color, and texture. "),r.a.createElement("label",{htmlFor:"upload-photo",className:"primary-btn peach-btn",id:"upload-btn"},"OK GOT IT"),r.a.createElement("input",{type:"file",accept:"image/*",className:t.updloadPhoto,id:"upload-photo",onChange:function(t){return e.handleFile(t.target.files)}})))}}]),t}(n.Component),H=Object(u.connect)(function(e){return{selfies:e.selfies.selfies}},function(e){return{setSelfie:function(t){e(Object(L.setSelfie)(t,"selfie_side")),e(Object(P.trackGtmEvent)("selfie_side_upload"))},removeSelfie:function(){e(Object(L.removeSelfie)("selfie_side")),e(Object(P.trackGtmEvent)("selfie_side_retake"))},onValidate:function(){return e(Object(P.trackGtmEvent)("selfie_side_validate"))}}})(Object(h.withStyles)(function(e){return{root:{alignItems:"center",backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)")},container:{margin:"auto",padding:"20px",textAlign:"center"},selfiesContainer:{margin:"auto",maxHeight:"60vh",padding:20,"& img":{maxHeight:"60vh",maxWidth:"100%",width:"auto"}},footerBtn:{alignItems:"center",display:"flex",flexDirection:"column-reverse",paddingBottom:10},noThanks:{background:"transparent",color:e.palette.common.peachRa,margin:0,border:"none",fontSize:12,textTransform:"uppercase",cursor:"pointer"},updloadPhoto:{fontSize:"inherit",opacity:0,padding:0,position:"absolute",zIndex:-1},tutorial:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},mtop2:{marginTop:20},largerFont:{fontSize:"1.2em"},lightText:{color:e.palette.common.grey,fontSize:"0.9em",fontFamily:e.typography.simplonNorm},headerTitle:{fontWeight:200,textTransform:"uppercase"}}})(_)),G=a(902),Y=a.n(G),Q=a(903),K=a.n(Q),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleFile=function(e){a.props.onSelfieUpload&&a.props.onSelfieUpload(),a.props.setSelfie(e[0],"selfie_top")},a.navigateToNextSelfie=function(){a.props.onSelfieValidate&&a.props.onSelfieValidate(),a.props.history.push("/consultation/checkout/success/upload/side")},a.purgeFile=function(){a.props.onSelfieRetake&&a.props.onSelfieRetake(),a.props.removeSelfie("selfie_top")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.selfies.length>0?this.props.selfies.find(function(e){return"selfie_top"===e.filename}):null;if(a){var n=URL.createObjectURL(a.content);return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.selfiesContainer},r.a.createElement("img",{src:n,width:"100%",alt:"uploaded"})),r.a.createElement("div",{className:t.footerBtn},r.a.createElement(j.a,{id:"next-button",onClick:this.navigateToNextSelfie},"Continue"),r.a.createElement("button",{className:t.noThanks,Retake:!0,id:"prev-button",onClick:this.purgeFile},"Retake")))}return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.container},r.a.createElement("h4",{className:t.headerTitle},"FIRST, Part your hair and take a photo of THE TOP OF YOUR HEAD, like this:"),r.a.createElement("div",{className:t.tutorial},r.a.createElement("div",{className:t.mtop2},r.a.createElement("img",{src:Y.a,width:"100px",alt:"selfie top"})),r.a.createElement("p",{className:t.largerFont},"OR"),r.a.createElement("div",{className:t.mtop2},r.a.createElement("img",{src:K.a,width:"100px",alt:"selfie top"}))),r.a.createElement("p",{className:t.lightText},"Don\u2019t focus on picture perfect. We\u2019re just checking your scalp for hair density, thickness, dandruff, and oiliness."),r.a.createElement("label",{htmlFor:"upload-photo",className:"primary-btn peach-btn",id:"upload-btn"},"OK GOT IT"),r.a.createElement("input",{type:"file",accept:"image/*",className:t.updloadPhoto,id:"upload-photo",onChange:function(t){return e.handleFile(t.target.files)}})))}}]),t}(n.Component),J=Object(u.connect)(function(e){return{selfies:e.selfies.selfies}},function(e){return{setSelfie:function(t,a){return e(Object(L.setSelfie)(t,a))},removeSelfie:function(t){return e(Object(L.removeSelfie)(t))},onSelfieUpload:function(){return Object(P.trackGtmEvent)("selfie_top_upload")},onSelfieValidate:function(){return Object(P.trackGtmEvent)("selfie_top_validate")},onSelfieRetake:function(){return Object(P.trackGtmEvent)("selfie_top_retake")}}})(Object(h.withStyles)(function(e){return{root:{alignItems:"center",backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)")},container:{margin:"auto",padding:"20px",textAlign:"center"},selfiesContainer:{margin:"auto",maxHeight:"60vh",padding:20,"& img":{maxHeight:"60vh",maxWidth:"100%",width:"auto"}},footerBtn:{alignItems:"center",display:"flex",flexDirection:"column-reverse",paddingBottom:10},noThanks:{background:"transparent",color:e.palette.common.peachRa,margin:0,border:"none",fontSize:12,textTransform:"uppercase",cursor:"pointer"},updloadPhoto:{fontSize:"inherit",opacity:0,padding:0,position:"absolute",zIndex:-1},tutorial:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},mtop2:{marginTop:20},largerFont:{fontSize:"1.2em"},lightText:{color:e.palette.common.grey,fontSize:"0.9em",fontFamily:e.typography.simplonNorm},headerTitle:{fontWeight:200,textTransform:"uppercase"}}})(Z)),X=a(1),$=a.n(X),ee=a(9),te=a(17),ae=a.n(te),ne=a(61),re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).navigateToDone=Object(ee.a)($.a.mark(function e(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.onSelfiesSubmit&&a.props.onSelfiesSubmit(),e.next=3,a.props.saveSelfies(a.props.selfies);case 3:case"end":return e.stop()}},e,this)})),a.navigateTo=function(){var e=Object(ee.a)($.a.mark(function e(t){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.onSelfiesRetake&&a.props.onSelfiesRetake(),a.props.history.push("/consultation/checkout/success/upload/".concat(t));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.props.error&&this.props.clearSefliesError()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.error,n=e.isLoading,o=e.selfies,i=e.saved,s=o.length>0?o.find(function(e){return"selfie_top"===e.filename}):null,c=o.length>0?o.find(function(e){return"selfie_side"===e.filename}):null;if(i)return r.a.createElement(d.a,{to:"/consultation/checkout/success/done"});if(a)return r.a.createElement(ne.a,{href:"/consultation/checkout/success/upload/top"});if(s&&c){var l=URL.createObjectURL(s.content),p=URL.createObjectURL(c.content);return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.confirmationContainer},r.a.createElement("h4",{className:t.headerTitle},"GREAT!"),r.a.createElement("h4",{className:ae()(t.headerTitle,t.confirmationContent)},"WE\u2019LL TAKE A LOOK AND LET YOU\u2028 KNOW IF ANYTHING STANDS OUT."),r.a.createElement("div",{className:t.selfiesPreviewContainer},r.a.createElement("div",{className:t.selfiePreview},r.a.createElement("h4",{className:t.headerTitle},"TOP"),r.a.createElement("img",{src:l,alt:"selfie_top"}),r.a.createElement("button",{className:t.noThanks,id:"prev-button",onClick:this.navigateTo.bind(this,"top")},"Retake")),r.a.createElement("div",{className:t.selfiePreview},r.a.createElement("h4",{className:t.headerTitle},"SIDE"),r.a.createElement("img",{src:p,alt:"selfie_side"}),r.a.createElement("button",{className:t.noThanks,id:"prev-button",onClick:this.navigateTo.bind(this,"side")},"Retake"))),r.a.createElement("p",{className:ae()(t.lightText,t.mtop2)},"Remember, your photos are private and will only be used by our expert stylists for review."),r.a.createElement(j.a,{id:"next-button",onClick:this.navigateToDone,isLoading:n},"Submit")))}return r.a.createElement(d.a,{to:"/consultation/checkout/success/upload/side"})}}]),t}(n.Component),oe=Object(u.connect)(function(e){return{selfies:e.selfies.selfies,isLoading:e.selfies.isLoading,saved:e.selfies.saved,error:e.selfies.error}},function(e){return{saveSelfies:function(t){return e(Object(L.saveSelfies)(t))},clearSefliesError:function(){return e(Object(L.clearSefliesError)())},onSelfiesSubmit:function(){return e(Object(P.trackGtmEvent)("selfie_submit"))},onSelfiesRetake:function(){return e(Object(P.trackGtmEvent)("selfie_confirmation_retake"))}}})(Object(h.withStyles)(function(e){return{root:{alignItems:"center",backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)")},selfiesPreviewContainer:{display:"flex",height:"45vh",margin:"auto",width:"80vw"},selfiePreview:{alignItems:"center",display:"flex",flex:1,flexDirection:"column",justifyContent:"space-between",margin:"0 10px","& img":{maxHeight:"100%",maxWidth:"100%"}},noThanks:{background:"transparent",color:e.palette.common.peachRa,margin:0,border:"none",fontSize:12,textTransform:"uppercase",cursor:"pointer"},confirmationContainer:{margin:"auto",padding:"20px",textAlign:"center"},confirmationContent:{color:e.palette.common.grey},mtop2:{marginTop:20},headerTitle:{fontWeight:200,textTransform:"uppercase"},lightText:{color:e.palette.common.grey,fontFamily:e.typography.simplonNorm,fontSize:"0.9em"}}})(re)),ie=A(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{path:"/consultation/checkout/success/upload/top",component:J}),r.a.createElement(i.a,{path:"/consultation/checkout/success/upload/side",component:H}),r.a.createElement(i.a,{path:"/consultation/checkout/success/upload/confirmation",component:oe}),r.a.createElement(i.a,{path:"/consultation/checkout/success/done-no-selfie/",component:z}),r.a.createElement(i.a,{path:"/consultation/checkout/success/done/",component:z}),r.a.createElement(i.a,{path:"/consultation/checkout/success/",component:D})))}}]),t}(n.Component)),se=a(260),ce=a(12),le=a(145),pe=a.n(le),me=a(904),ue=a.n(me),de=a(905),he=a.n(de),fe=a(906),ge=a.n(fe),ye=a(695),be=a(812),ve=a(826),Ee=a(33),xe=a(28),ke=Object(h.withStyles)(function(e){return{content:{minHeight:"calc(100vh - ".concat(e.props.headerHeight,"px)"),backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}}})(function(e){var t=e.classes,a=e.children;return r.a.createElement("div",null,r.a.createElement(xe.a,{hideBannerLink:!0,hideNavbarCTA:!0}),r.a.createElement(Ee.a,{classes:{root:t.content}},a))}),Oe=a(197),Se=function(e,t){for(var a=pe()(e),n=t;n>0;)a.add(1,"days"),[6,7].includes(a.isoWeekday())||(n-=1);return a}(pe()(),Oe.a.shipping_delay).format("M/D"),Ae=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.conditioner,o=t.coupon,i=t.freeOrder,s=t.mask,c=t.onAddProduct,l=t.onBack,p=t.onRemoveProduct,m=t.onSubmitCheckout,u=t.shampoo,d=t.totalPrice,h=t.reorder,f=t.isReorder,g=o&&o.amount?Math.abs(o.amount):0,y=Math.max(d-g,0),b=0===u.quantity&&0===n.quantity&&0===s.quantity,v=[{key:"mask",label:"hair mask",picture:ue.a,price:s.price,quantity:s.quantity,description:"Concentrated pre-shampoo<br/>treatment, customized to<br/>deeply revitalize your scalp<br/>or hair."},{key:"shampoo",label:"shampoo",picture:he.a,price:u.price,quantity:u.quantity,description:"Gentle cleanser, customized<br/>to rebalance your hair<br/>without stripping healthy<br/>nutrients."},{key:"conditioner",label:"conditioner",picture:ge.a,price:n.price,quantity:n.quantity,description:"Nourishing moisturizer,<br/>customized to strengthen<br/>and restore your hair without<br/>weighing it down."}];return r.a.createElement(ke,{classes:{content:a.root}},r.a.createElement("div",{className:a.backContainer,onClick:l},r.a.createElement(ye.a,{className:a.icon}),r.a.createElement("div",{className:a.label},"BACK")),r.a.createElement("span",{className:a.checkoutContentContainer},r.a.createElement("span",{className:a.checkoutAdviceContainer},r.a.createElement("div",{className:a.checkoutAdvice},r.a.createElement("div",{className:a.title},"We're ready to make your custom products."),r.a.createElement("div",{className:a.subTitle},"They'll be made to order in our NYC lab. Order now and receive them by"," ",r.a.createElement("span",{className:a.totalDelivery},Se),".")),r.a.createElement("div",{className:a.productsContainer},v.map(function(t){return r.a.createElement("div",{key:t.key,className:a.productContainer},r.a.createElement("div",{className:a.bottleContainer},r.a.createElement("img",{alt:t.label,src:t.picture,width:"100%"}),r.a.createElement("span",{className:a.desktopHide},r.a.createElement(be.a,{onAdd:c.bind(e,t.key),onRemove:p.bind(e,t.key),quantity:t.quantity,price:t.price,freeOrder:i}))),r.a.createElement("div",{className:a.productInfoContainer},r.a.createElement("div",{className:a.product},r.a.createElement("h4",null,t.label),r.a.createElement("div",{className:ae()(a.smallNotes,a.greyText,a.mtop1,a.mobileAlign)},r.a.createElement("span",{className:ae()(a.desktopHide,a.bold,a.mobilePrice)},"$"+t.price.toFixed(2)),"8.5 OZ"),r.a.createElement("div",{className:ae()(a.smallDescription,a.greyText),dangerouslySetInnerHTML:{__html:t.description}})),r.a.createElement("span",{className:a.mobileHide},r.a.createElement(be.a,{onAdd:c.bind(e,t.key),onRemove:p.bind(e,t.key),quantity:t.quantity,price:t.price,freeOrder:i}))))}))),r.a.createElement(ve.a,{shampoo:u,conditioner:n,ctaDisabled:b,mask:s,totalPrice:d,totalPriceWithDiscount:y,freeOrder:i,couponAmount:g,reorder:h,isReorder:f,onSubmitCheckout:m,productTypes:v,coupon:o})))}}]),t}(n.Component),je=Object(h.withStyles)(function(e){var t,a;return{root:{justifyContent:"flex-start"},checkoutContentContainer:Object(ce.a)({display:"flex",flexDirection:"column",alignItems:"flex-start"},e.breakpoints.up("sm"),{flexDirection:"row"}),checkoutAdviceContainer:Object(ce.a)({display:"flex",flex:1,flexDirection:"column",height:"100%"},e.breakpoints.up("sm"),{flex:"4 1 auto",paddingTop:0}),productsContainer:Object(ce.a)({alignItems:"center",display:"flex",flex:"1 0 auto",flexDirection:"column",height:"auto",justifyContent:"center",overflow:"hidden",margin:"auto",width:"100%"},e.breakpoints.up("sm"),{flex:"1 1 auto",flexDirection:"row",paddingBottom:30,width:"90%"}),productContainer:Object(ce.a)({alignItems:"flex-end",display:"flex",flex:1,flexDirection:"row",flexShrink:0,justifyContent:"space-between",width:"90%"},e.breakpoints.up("sm"),{flexDirection:"column",justifyContent:"center",minWidth:"19vw",alignItems:"center"}),bottleContainer:(t={},Object(ce.a)(t,e.breakpoints.up("sm"),{maxWidth:"15vw"}),Object(ce.a)(t,e.breakpoints.down("xs"),{flex:2,marginRight:15}),t),productInfoContainer:{alignItems:"center",display:"flex",flex:4,flexDirection:"column",width:"100%"},product:(a={alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},Object(ce.a)(a,e.breakpoints.up("sm"),{flexDirection:"column"}),Object(ce.a)(a,e.breakpoints.down("xs"),{flex:3,flexDirection:"column",margin:"0 20px"}),Object(ce.a)(a,"& h4",Object(ce.a)({margin:0,textTransform:"uppercase",fontSize:"1.3em",fontWeight:400},e.breakpoints.down("xs"),{fontSize:"1em",width:"100%",textAlign:"left"})),Object(ce.a)(a,"& h5",{margin:"5px 0",textTransform:"uppercase",fontSize:"1em",color:e.palette.common.greyRa}),a),totalDelivery:{textTransform:"uppercase"},border:{margin:"1.3em 0"},greyText:{color:e.palette.common.grey},checkoutAdvice:Object(ce.a)({alignItems:"center",flexShrink:0,justifyContent:"center",margin:" auto",padding:"20px 70px",position:"relative"},e.breakpoints.down("xs"),{padding:"0 10px",width:"80vw",fontSize:"0.9em"}),backContainer:{display:"flex",alignItems:"center",cursor:"pointer",marginTop:20,width:"90%"},icon:{margin:7},label:{margin:7,fontSize:11,letterSpacing:e.typography.letterSpacingExtra,color:e.palette.common.grey},title:Object(ce.a)({fontSize:28,textAlign:"center",fontFamily:e.typography.simplonNorm,textTransform:"uppercase",letterSpacing:e.typography.letterSpacingNormal,lineHeight:e.typography.lineHeightNormal},e.breakpoints.down("xs"),{fontSize:20,marginTop:10}),subTitle:Object(ce.a)({fontSize:14,textAlign:"center",fontFamily:e.typography.simplonNorm,letterSpacing:e.typography.letterSpacingNormal,lineHeight:e.typography.lineHeightNormal,marginTop:20,color:e.palette.common.grey},e.breakpoints.down("xs"),{fontSize:12}),desktopHide:Object(ce.a)({},e.breakpoints.up("sm"),{display:"none"}),mobileHide:Object(ce.a)({},e.breakpoints.down("xs"),{display:"none"}),red:{color:"red"},bold:{fontWeight:"bold"},smallNotes:{fontSize:11},mtop1:{marginTop:10},smallDescription:Object(ce.a)({textAlign:"center",fontFamily:e.typography.simplonNorm,fontSize:12,margin:10,width:"100%"},e.breakpoints.down("xs"),{textAlign:"left",margin:"10px 0",marginBottom:0}),mobilePrice:{fontSize:12,color:e.palette.common.noir,marginRight:25},mobileAlign:Object(ce.a)({},e.breakpoints.down("xs"),{width:"100%",textAlign:"left"})}})(Ae),Ce=a(124),we=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onBack=function(){a.props.history.goBack()},a.onSubmitCheckout=function(){a.props.history.push("/consultation/checkout/contact")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUserSurveys()}},{key:"render",value:function(){var e=this.props,t=e.addProduct,a=e.cart,n=e.coupon,o=e.error,i=e.freeOrder,s=e.onMount,c=e.pubkey,l=e.removeProduct,p=e.totalPrice;return c?o?r.a.createElement(y.a,{href:"/account",reload:!0}):r.a.createElement(je,{conditioner:a.conditioner,coupon:n,freeOrder:i,mask:a.mask,onAddProduct:t,onBack:this.onBack,onMount:s,onRemoveProduct:l,onSubmitCheckout:this.onSubmitCheckout,shampoo:a.shampoo,totalPrice:p}):r.a.createElement(d.a,{to:"/account"})}}]),t}(n.Component),Ne={addProduct:se.addProduct,onMount:P.trackCartViewed,removeProduct:se.removeProduct,reviewOrderSurvey:w.reviewOrderSurvey,requestUserSurveys:Ce.requestUserSurveys},Pe=Object(u.connect)(function(e){return{cart:f.a.checkout.getCartDetails(e),coupon:f.a.user.getFirstCoupon(e),pubkey:f.a.checkout.getFormulasPubkey(e),freeOrder:f.a.user.getIsOrderFree(e),totalPrice:f.a.checkout.getCartTotal(e)}},Ne)(we),Te=a(689),Re=a(816),Fe=a(827),Ue=a(828),Be=a(825),De=a(824),Ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){var e=a.props,t=e.page,n=e.history;switch(t){case"contact":return n.go(-1);case"address":return n.go(-2);case"payment":return n.go(-3);default:return}},a.renderContactForm=function(){var e=a.props,t=e.baseUrl,n=e.email,o=e.error,i=e.fetchAddresses,s=e.first_name,c=e.history,l=e.isLoadingUser,p=e.last_name,m=e.phone,u=e.updateUser;return r.a.createElement(Ue.a,{baseUrl:t,email:n,error:o,fetchAddresses:i,first_name:s,history:c,isLoadingUser:l,last_name:p,phone:m,updateUser:u})},a.renderAddressForm=function(){var e=a.props,t=e.address,n=e.baseUrl,o=e.history,i=e.orderPubkey,s=e.receiveUpdateUserAddress,c=e.updateOrderAddress,l=e.updateUserAddress,p=e.user;return r.a.createElement(Be.a,{address:t,baseUrl:n,history:o,orderPubkey:i,receiveUpdateUserAddress:s,updateOrderAddress:c,updateUserAddress:l,user:p})},a.renderPaymentForm=function(){var e=a.props,t=e.baseUrl,n=e.error_message,o=e.isLoading,i=e.isLoadingPayment,s=e.orderPubkey,c=e.payment_error,l=e.payment_success,p=e.processPayment,m=e.purgePaymentError,u=e.receivePaymentError,d=e.receivePaymentErrorMessage,h=e.requestPayment,f=e.totalPriceWithTaxes;return r.a.createElement(Te.Elements,null,r.a.createElement(De.a,{baseUrl:t,error_message:n,isLoading:o,isLoadingPayment:i,orderPubkey:s,payment_error:c,payment_success:l,processPayment:p,purgePaymentError:m,receivePaymentError:u,receivePaymentErrorMessage:d,requestPayment:h,totalPriceWithTaxes:f}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cart,a=e.saveOrder;t&&a(t)}},{key:"render",value:function(){var e=this.props,t=e.amount,a=e.isCreatingOrder,n=e.page;return r.a.createElement(Re.a,null,r.a.createElement(Fe.a,{amount:t,onClose:this.handleClose,isLoading:a},"contact"===n&&this.renderContactForm(),"address"===n&&this.renderAddressForm(),"payment"===n&&this.renderPaymentForm()))}}]),t}(n.Component),ze={fetchAddresses:C.fetchAddresses,processPayment:E.payment,purgePaymentError:E.purgePaymentError,receivePaymentError:E.receivePaymentError,receivePaymentErrorMessage:E.receivePaymentErrorMessage,receiveUpdateUserAddress:C.receiveUpdateUserAddress,requestPayment:E.requestPayment,saveOrder:E.saveOrder,updateOrderAddress:E.updateOrderAddress,updateUser:C.updateUser,updateUserAddress:C.updateUserAddress},Le=Object(u.connect)(function(e){return{address:f.a.user.getUserAddress(e),amount:f.a.order.getAmountLabel(e),cart:f.a.checkout.getCartForOrderCreation(e),email:f.a.user.getUserEmail(e),error_message:f.a.order.getOrderErrorMessage(e),error:f.a.order.getOrderError(e),first_name:f.a.user.getUserFirstName(e),isCreatingOrder:f.a.order.getIsCreatingOrder(e),isLoading:f.a.order.getIsLoadingOrder(e),isLoadingPayment:f.a.order.getIsLoadingOrderPayment(e),isLoadingUser:f.a.user.getUserIsLoading(e),last_name:f.a.user.getUserLastName(e),orderPubkey:f.a.order.getOrderPubkey(e),payment_error:f.a.order.getOrderError(e),payment_success:f.a.order.getOrderPaid(e),phone:f.a.user.getUserPhone(e),totalPriceWithTaxes:f.a.order.getOrderTotalPriceWithTaxes(e),user:f.a.user.getUser(e)}},ze)(Ie);t.default=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,{exact:!0,path:"/consultation/checkout",component:Pe}),r.a.createElement(i.a,{path:"/consultation/checkout/success",component:ie}),r.a.createElement(i.a,{path:"/consultation/last-survey",component:S}),r.a.createElement(i.a,{exact:!0,path:"/consultation/checkout/(contact|address|payment)",render:function(e){var t=e.history,a=e.match;return r.a.createElement(n.Fragment,null,r.a.createElement(Pe,null),r.a.createElement(Le,{page:a.params[0],history:t,baseUrl:"/consultation/checkout"}))}}))}},685:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(691),i=a.n(o),s=a(13);t.a=Object(s.withStyles)(function(e){return{labelRoot:{color:"rgba(0, 0, 0, 0.3)"},inputRoot:{color:e.palette.common.darkBlue},inputFocused:{},inputDisabled:{},inputError:{},inputUnderline:{"&:before":{borderBottom:"1px solid ".concat(e.palette.grey[300])},"&:after":{borderBottom:"2px solid ".concat(e.palette.common.peachRa)},"&:hover:not($inputDisabled):not($inputFocused):not($inputError):before":{borderBottom:"1px solid ".concat(e.palette.grey[400])}},helperTextError:{opacity:1}}})(function(e){var t=e.classes,a=e.className,n=e.disabled,o=e.error,s=e.fullWidth,c=e.inputComponent,l=e.inputProps,p=e.label,m=e.onChange,u=e.value,d=e.onBlur,h={classes:{root:t.inputRoot,focused:t.inputFocused,disabled:t.inputDisabled,error:t.inputError,underline:t.inputUnderline},inputComponent:c,inputProps:l},f={classes:{root:t.labelRoot}},g={classes:{error:t.helperTextError}};return r.a.createElement(i.a,{className:a,disabled:n,error:!!o,FormHelperTextProps:g,fullWidth:s,helperText:o,InputLabelProps:f,InputProps:h,label:p,margin:"normal",onBlur:d,onChange:m,value:u})})},686:function(e,t,a){"use strict";var n=function(e){return""===e.trim()},r=function(e){return/.+?@.+?\..{2,}/.test(e)},o=function(e){return/^[(][0-9]{3}[)]\s[0-9]{3}[-][0-9]{4}$/.test(e)},i=function(e){return/^[A-Z]{2}$/.test(e)},s=function(e){return/^[0-9]{5}$/.test(e)};a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return s})},688:function(e,t,a){e.exports=a.p+"static/media/plus_light.2153577b.png"},690:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(13),i=a(17),s=a.n(i),c=a(196),l=a.n(c),p=a(688),m=a.n(p),u=function(e){var t=e.onClick,a=e.className,n=e.classes,o=e.light;return r.a.createElement("img",{alt:"Close",className:s()(n.root,a),src:o?m.a:l.a,onClick:t})};u.defaultProps={light:!1},t.a=Object(o.withStyles)({root:{cursor:"pointer",position:"absolute",right:"20px",top:"20px",transform:"rotate(45deg)",width:"33px"}})(u)},692:function(e,t,a){"use strict";var n=a(12),r=a(0),o=a.n(r),i=a(13);t.a=Object(i.withStyles)(function(e){return{root:Object(n.a)({display:"flex",flexDirection:"row",justifyContent:"space-around",left:"50%",listStyleType:"none",margin:"0 auto",padding:0,position:"absolute",textTransform:"uppercase",top:"-20px",transform:"translateX(-50%)",width:"70%"},e.breakpoints.down("xs"),{fontSize:"0.6em",width:"100%"}),actionActive:{color:e.palette.common.peachRa}}})(function(e){var t=e.classes,a=e.active;return o.a.createElement("ol",{className:t.root},["Contact Info","Shipping","Secure Checkout"].map(function(e,n){var r=n+1<=a;return o.a.createElement("li",{className:r?t.actionActive:"",key:n},o.a.createElement("span",null,e))}))})},695:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.className;return r.a.createElement("svg",{width:17,height:14,className:t},r.a.createElement("g",{stroke:"#A89E9C",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},r.a.createElement("path",{d:"M1.479 7.421l6.62-6.62M1.479 7.421l6.432 6.432M1.92 7.485h13.636"})))}},739:function(e,t){e.exports="data:image/png;base64,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"},740:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAADlklEQVR4Ae2aA7AcSxSG34tt21gF3T1zJ7Zt204xtu2UYhVilGOjECeF2LZ1/q3ercupmcXF7EzVWfScv7vPN+3d/8xeTk0r42Sst5PzXsnJUCcXY6X/C+dVvXr1rA7OjzsY+2vS/iSGhkAcddapkyVsAIjwIn9hjL0je6NrnL8mYF/p/Sd9f4s0g/YWGql9bcD/XTQI88MSvEOI7lTQDxTi4ny9U1UdHs7L61llVS1LmtVkR4z4+wy+0ECLPAz6b5QP5jtB6BrC0GW/5/yBLOCGU4gCRrUEaxpp95ktExpojfpXqV69EGluyZZwzy1EqZAE37Rp0/QU9AEZ/GeqVEMzetLMoIrt79ixY2qjGvhCA62pshSlMem+eCFwvtfZsWO64J8+Y5MkVTT9iUhLngBkeUJM8Q+MQowPKng8bSL5QT79A4yxTMkdgKdRo8xU50OyFbynVlEvoOAp2IJUgZsy+Pu+OTY5AtAZswDhmktV8xtXywpQwFujjaodkJ5SAOByCdHJN2thhpg2bVoqM/1oYLR+vwJpKQ2AnElW+RdVQvQ1KlKo4BdSeMJdo0bOFAtA03JRPqflAumZW1WZrqBynTo5qNBLMviXbsbcSE+pAHBR//dgNSkhnGeMZdd7+ou9jug7nA9GWggATA8CwPSQ1EGIYVha6y6V6UZ7DHjy6e9B88HmR1XVbIEa9CgwUADQhqIOsivsk7F9c3PeOvYmpzSmOq8DjPPb9H6ORBeDtPNkTynv3WYBQAMt8gi2HohFxvRX2t3KUVEloj/9rrgRLqP8d5kFAA20YbSOcQB419Gcr5XNdkHQJsQ80EeXMgsAGmiRRyjqgphkbF8SBED2EivAkG6jOZ8a6BgAbSjrgtgQoy4AJ2PFootS+jQY/UJsNoDkBMAlRFGPqhaJSACYeh2cX6X7V/A5ogB4OHdhXsbiBIbPSIsIANTko7DoorQdOGCB4TPScM+yAOTnGmTP6fumOnXqZPD5aJqWEWm4Bx+kWQ3ALhdjzZE/fV7KGEsb2w8HmLgHH/hCYxUAkynfJ94fUoSYqXcyg3vwgS800FoFALbYk8yeRFsDAOdjXUKMNquDBtoUDwB78WC0yQCANS4bgA3ABmADsAHYAGwANgAbgA1ABwB+FlcUJbdVASA2xKgH4CP+CIVfU61oiA0xxgXAWDckRpLhLzR+AC5FaYt/UESUCdEyxjk8DikjyeQptX39A+XcA1UVc+JkAAAAAElFTkSuQmCC"},741:function(e,t){e.exports="data:image/png;base64,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"},812:function(e,t,a){"use strict";var n=a(12),r=a(0),o=a.n(r),i=a(13),s=a(17),c=a.n(s),l=a(813),p=a.n(l),m=a(814),u=a.n(m);t.a=Object(i.withStyles)(function(e){return{root:Object(n.a)({width:"100%"},e.breakpoints.down("xs"),{alignItems:"center",display:"flex",justifyContent:"space-between"}),counter:Object(n.a)({display:"flex",background:"white",cursor:"pointer",flexDirection:"column",justifyContent:"space-around",alignItems:"center",margin:"auto"},e.breakpoints.up("sm"),{width:"100%",flexDirection:"row",height:50}),price:{flex:1,fontSize:13,textAlign:"center",fontWeight:600,margin:15},quantity:{flex:1,fontSize:13,textAlign:"center",margin:10},btnContainer:{alignItems:"center",display:"flex",flex:1,justifyContent:"space-between",margin:5},btn:Object(n.a)({alignItems:"center",cursor:"pointer",display:"flex"},e.breakpoints.down("xs"),{margin:5}),border:{border:"0.5px solid #979797",width:2,opacity:.15,height:44},hideMobile:Object(n.a)({},e.breakpoints.down("xs"),{display:"none"}),hideDesktop:Object(n.a)({},e.breakpoints.up("sm"),{display:"none"}),emptyPadding:{padding:8},noMargin:Object(n.a)({},e.breakpoints.down("xs"),{margin:0})}})(function(e){var t=e.classes,a=e.onAdd,n=e.onRemove,r=e.quantity,i=e.price,s=e.freeOrder,l=e.isOil,m=l?null:t.hideMobile;return o.a.createElement("span",{className:t.root},o.a.createElement("div",{className:t.counter,style:l&&{flexDirection:"row"}},o.a.createElement("div",{className:t.btnContainer},(l?r>1:0!==r)&&o.a.createElement("div",{className:t.btn,onClick:n},o.a.createElement("img",{src:u.a,alt:"-",width:"20px"})),o.a.createElement("div",{className:t.quantity},r),!s&&o.a.createElement("div",{className:t.btn,onClick:a},o.a.createElement("img",{src:p.a,alt:"+",width:"20px"}))),o.a.createElement("div",{className:c()(t.border,m)}),o.a.createElement("div",{className:c()(t.price,m)},"$"+i.toFixed(2))))})},813:function(e,t,a){e.exports=a.p+"static/media/add_product.02f78fd7.svg"},814:function(e,t,a){e.exports=a.p+"static/media/remove_product.0da619fa.svg"},816:function(e,t,a){"use strict";var n=a(6),r=a(10),o=a(8),i=a(5),s=a(7),c=a(0),l=a.n(c),p=a(689),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={stripe:null},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.Stripe?this.setState({stripe:window.Stripe("pk_live_j1baLhQ4Cv8OLYEQfijUiJ4c")}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:window.Stripe("pk_live_j1baLhQ4Cv8OLYEQfijUiJ4c")})})}},{key:"render",value:function(){return l.a.createElement(p.StripeProvider,{stripe:this.state.stripe},this.props.children)}}]),t}(c.Component);t.a=m},817:function(e,t,a){e.exports=a.p+"static/media/credit_cards.be177afe.svg"},818:function(e,t,a){e.exports=a.p+"static/media/lock.95fa9546.svg"},824:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(9),i=a(6),s=a(10),c=a(8),l=a(5),p=a(7),m=a(0),u=a.n(m),d=a(1065),h=a(14),f=a.n(h),g=a(689),y=a(12),b=a(13),v=a(27),E=a(21),x=a(45),k=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).onPaymentRequestToken=function(e){var t=e.complete,n=e.token;a.props.onButtonPaid&&a.props.onButtonPaid(),a.getPaid(n.id),t("success")},a.handleApplePayClick=function(){a.props.onButtonClick&&a.props.onButtonClick()},a.getPaid=function(e){a.props.handleApplePay(e)};var n=a.props.applePayRequest();return n&&n.on("token",a.onPaymentRequestToken),a.state={paymentRequest:n,wrongTotal:0===e.total,canMakePayment:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.paymentRequest;t&&t.canMakePayment().then(function(t){var a=t&&t.applePay?"Apple Pay":"Chrome Pay";e.props.onButtonViewed&&e.props.onButtonViewed(a),e.setState({canMakePayment:!!t})})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.total;return this.state.canMakePayment&&!this.props.pendingApplePay&&0===!a?u.a.createElement("div",{className:t.root},u.a.createElement(g.PaymentRequestButtonElement,{paymentRequest:this.state.paymentRequest,className:"PaymentRequestButton",style:{paymentRequestButton:{theme:"dark"}},onClick:this.handleApplePayClick}),!this.props.pendingApplePay&&u.a.createElement("p",{className:t.textInfo},"Or enter your payment details below")):null}}]),t}(m.Component),O=Object(v.connect)(function(e){return{total:E.a.order.getOrderTotalPriceWithTaxes(e)}},function(e){return{onButtonPaid:function(){return e(Object(x.trackGtmEvent)("payment_button_paid"))},onButtonViewed:function(t){return e(Object(x.trackGtmEvent)("payment_button_view",{payment_button_type:t}))},onButtonClick:function(){return e(Object(x.trackGtmEvent)("payment_button_click"))}}})(Object(b.withStyles)({root:{width:"80%",margin:"auto"},textInfo:{fontSize:"1em",marginTop:"30px",textAlign:"center"}})(k)),S=a(212),A=a.n(S),j=a(213),C=a.n(j)()({"0%":{opacity:.3},"50%":{opacity:1},"100%":{opacity:.3}}),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).getLineStyle=function(){return{backgroundColor:a.props.color,height:a.props.height,width:a.props.width,margin:a.props.margin,borderRadius:a.props.radius,verticalAlign:a.props.verticalAlign}},a.getAnimationStyle=function(e){return{animation:[C,"3s",.1*e+"s","infinite","cubic-bezier(.2,.68,.18,1.08)"].join(" "),animationFillMode:"both"}},a.getStyle=function(e){return A()(a.getLineStyle(),a.getAnimationStyle(e),{display:"inline-block"})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.loading?u.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.containerStyle},u.a.createElement("div",{style:this.getStyle(1)}),u.a.createElement("div",{style:this.getStyle(2)}),u.a.createElement("div",{style:this.getStyle(3)}),u.a.createElement("div",{style:this.getStyle(4)}),u.a.createElement("div",{style:this.getStyle(5)}),u.a.createElement("div",{style:this.getStyle(6)})):null}}]),t}(m.Component);w.defaultProps={color:"#FFA380",height:"15px",loading:!0,width:"10%"};var N=a(77),P=a(61),T=a(57),R=a(685),F=a(692),U=a(817),B=a.n(U),D=a(818),I=a.n(D),z=Object(b.withStyles)(function(e){var t;return{root:Object(y.a)({margin:"auto"},e.breakpoints.up("sm"),{width:"70%"}),textField:Object(y.a)({width:"90%",marginLeft:"5%",marginRight:"5%","& label":{fontFamily:e.typography.simplonMono,fontSize:"1em"}},e.breakpoints.up("sm"),{width:"100%",marginLeft:0,marginRight:0}),formContainer:{alignItems:"center",display:"flex",flexDirection:"column",flexShrink:0,maxWidth:"100%"},fullWidth:{width:"100%"},cardInfo:Object(y.a)({alignItems:"baseline",display:"flex",fontSize:"0.6em",justifyContent:"space-between"},e.breakpoints.down("xs"),{margin:"20px 5px"}),cardImgContainer:Object(y.a)({width:"15vw"},e.breakpoints.down("xs"),{width:"40vw"}),freeShipping:{"& img":{margin:"0 10px"}},creditCardForm:(t={margin:"auto",width:"90%"},Object(y.a)(t,e.breakpoints.up("sm"),{width:"100%"}),Object(y.a)(t,"& .StripeElement",{borderBottom:"1px solid #e0e0e0",width:"100%"}),t),cardError:{color:"red",fontSize:"1em",paddingTop:5,textAlign:"center"},loadingContainer:Object(y.a)({textAlign:"center",width:"90%"},e.breakpoints.down("xs"),{marginTop:50}),loading:{margin:20,opacity:1,fontSize:"1em",textAlign:"center"},loaderContainer:{margin:9}}})(function(e){var t=e.card,a=e.cardholder_name,n=e.cardReady,r=e.changeValue,o=e.pendingApplePay,i=e.error_message,s=e.handleApplePay,c=e.handleSubmit,l=e.isLoading,p=e.isLoadingPayment,m=e.payment_error,d=e.handleCardError,h=e.applePayRequest,f=e.classes,y=!(!t||!a),b=0!==Object.keys(i).length;return l?u.a.createElement("div",{className:f.formContainer},u.a.createElement(w,{className:f.loadingContainer}),u.a.createElement("p",{className:f.loading},"Loading secure payment...")):m&&!b?u.a.createElement(P.a,{href:"/consultation/checkout"}):u.a.createElement("div",{className:f.fullWidth},u.a.createElement(F.a,{active:3}),u.a.createElement("div",{className:f.root},u.a.createElement("div",{className:f.formContainer},u.a.createElement("div",{className:f.fullWidth},u.a.createElement("div",{className:f.fullWidth},u.a.createElement("div",{className:f.cardInfo},u.a.createElement("div",{className:f.cardImgContainer},u.a.createElement("img",{src:B.a,width:"100%",alt:"visa | mastercard | maestro"})),u.a.createElement("p",{className:f.freeShipping},u.a.createElement("img",{src:I.a,width:"10px",alt:"lock"}),"Secure and Encrypted")),u.a.createElement(O,{handleApplePay:s,pendingApplePay:o,applePayRequest:h}),!o&&u.a.createElement("span",null,u.a.createElement("form",{className:f.creditCardForm},u.a.createElement(g.CardElement,{onReady:n,onChange:function(e){d(e)},style:{base:{iconColor:"#666EE8",color:"#484646",lineHeight:"40px",fontSize:"16px",fontFamily:"Courier","::placeholder":{color:"rgba(0, 0, 0, 0.3)"}}},hidePostalCode:!0})),b&&u.a.createElement("p",{className:f.cardError},i.detail," Please try again."),u.a.createElement(R.a,{label:"Name On Card",value:a||"",onChange:r,className:f.textField,inputProps:{type:"text"}})))),!p&&u.a.createElement(N.a,{disabled:!y,onClick:c.bind(void 0,a)},"CHECK OUT"),p&&u.a.createElement("span",{className:f.loaderContainer},u.a.createElement(T.a,null)))))}),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),p=0;p<n;p++)s[p]=arguments[p];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={cardholder_name:"",canMakePayment:!1,pendingApplePay:!1},a.handleSubmit=function(){var e=Object(o.a)(r.a.mark(function e(t,n){var o,i,s,c,l,p,m,u,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.props,i=o.orderPubkey,s=o.processPayment,c=o.receivePaymentError,l=o.receivePaymentErrorMessage,p=o.requestPayment,m=o.stripe,n.preventDefault(),p(),e.prev=3,e.next=6,m.createToken({name:t,type:"card"});case 6:if(!("error"in(u=e.sent))){e.next=12;break}throw(d=new Error(u.error.code)).body=u.error,d.body.detail=u.error.message,d;case 12:return e.next=14,s(u.token.id,i);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(3),c(),e.t0.body&&l(e.t0),f.a.captureException(e.t0,{extra:"Payment error"});case 21:case"end":return e.stop()}},e,this,[[3,16]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handlePaymentRequest=function(e){var t=a.props,n=t.orderPubkey,r=t.processPayment;(0,t.requestPayment)(),r(e,n)},a.changeValue=function(e){a.setState({cardholder_name:e.target.value})},a.cardReady=function(){a.setState({card:!0})},a.handleCardError=function(e){a.props.payment_error&&a.props.purgePaymentError(),e.error||!0!==e.complete?a.setState({card:!1}):e.error||!0!==e.complete||a.setState({card:!0})},a.handleApplePay=function(e){a.setState({pendingApplePay:!0}),a.handlePaymentRequest(e)},a.applePayRequest=function(){var e=a.props,t=e.stripe,n=e.totalPriceWithTaxes;if(t&&t.paymentRequest)return t.paymentRequest({country:"US",currency:"usd",total:{label:"Prose Hair",amount:Math.round(100*n)||0}})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.baseUrl,a=e.error_message,n=e.isLoading,r=e.isLoadingPayment,o=e.payment_error,i=e.payment_success,s=e.stripe,c=this.state,l=c.card,p=c.cardholder_name,m=c.pendingApplePay;return i?u.a.createElement(d.a,{to:"".concat(t,"/success")}):u.a.createElement(z,{applePayRequest:this.applePayRequest,card:l,cardholder_name:p,cardReady:this.cardReady,changeValue:this.changeValue,error_message:a,handleApplePay:this.handleApplePay,handleCardError:this.handleCardError,handleSubmit:this.handleSubmit,isLoading:!s||n,isLoadingPayment:r,payment_error:o,payment_success:i,pendingApplePay:m})}}]),t}(m.Component);t.a=Object(g.injectStripe)(L)},825:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(9),i=a(12),s=a(6),c=a(10),l=a(8),p=a(5),m=a(7),u=a(0),d=a.n(u),h=a(14),f=a.n(h);function g(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(r.a.mark(function e(t){var a,n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://us-central1-prosehair.cloudfunctions.net/suggestPlaces",e.next=3,fetch("https://us-central1-prosehair.cloudfunctions.net/suggestPlaces",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:encodeURIComponent(t)})});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,o=[],n.payload.predictions.forEach(function(e){o.push({description:e.description,place_id:e.place_id,address1:e.structured_formatting.main_text})}),e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark(function e(t){var a,n,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://us-central1-prosehair.cloudfunctions.net/placeDetails",e.next=3,fetch("https://us-central1-prosehair.cloudfunctions.net/placeDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,o={},i=[],n.payload.result.address_components.forEach(function(e){e.types.includes("locality")?o.locality=e.long_name:e.types.includes("sublocality")?o.sublocality=e.long_name:e.types.includes("administrative_area_level_1")?o.state=e.short_name:e.types.includes("postal_code")?o.zipcode=e.long_name:e.types.includes("street_number")?i.push(e.long_name):e.types.includes("route")?i.push(e.long_name):e.types.includes("street_address")&&i.push(e.long_name)}),e.abrupt("return",{address:o,addressFull:i});case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var E=a(686),x=a(1065),k=a(694),O=a(13),S=a(839),A=a.n(S),j=a(206),C=a.n(j),w=a(838),N=a.n(w),P=a(77),T=a(685),R=a(692),F=Object(O.withStyles)(function(e){return{textFields:Object(i.a)({width:"100%",display:"flex",flexWrap:"wrap",position:"relative",padding:"0 5% 0 5%"},e.breakpoints.up("sm"),{padding:"0 15% 0 15%"}),textFieldSmall:Object(i.a)({width:"50%",paddingRight:2*e.spacing.unit},e.breakpoints.up("sm"),{width:"25%"}),textFieldMedium:Object(i.a)({paddingRight:2*e.spacing.unit,width:"100%"},e.breakpoints.up("sm"),{width:"50%",marginRight:"50%"}),textFieldBig:{paddingRight:2*e.spacing.unit,width:"100%"},paper:{position:"absolute",zIndex:1,left:0,right:0,top:"72px",margin:"0 ".concat(2*e.spacing.unit,"px")},footer:{alignItems:"center",display:"flex",flexDirection:"column-reverse",paddingBottom:10},previous:{background:"transparent",color:e.palette.common.peachRa,margin:0,border:"none",fontSize:12,textTransform:"uppercase",cursor:"pointer"}}})(function(e){var t=e.classes,a=e.address1,n=e.address2,r=e.city,o=e.closePopover,i=e.changeValue,s=e.changeStateValue,c=e.goBack,l=e.handleUpdateInput,p=e.handleSelected,m=e.isLoadingAddress,u=e.isPopoverOpen,h=e.isValid,f=e.missing_field,g=e.popoverAnchor,y=e.places,b=e.state,v=e.storeError,E=e.zipcode,O=e.submit;return v?d.a.createElement(x.a,{to:"/consultation/checkout"}):d.a.createElement("div",null,d.a.createElement(R.a,{active:2}),f&&d.a.createElement("h4",null,"please complete all the mandatory fields"),d.a.createElement("div",{className:t.textFields},d.a.createElement(T.a,{label:"Address",value:a||"",onChange:l,className:t.textFieldBig,inputProps:{autoComplete:"address-line1",ref:g},disabled:m}),u&&d.a.createElement(N.a,{onClickAway:o},d.a.createElement(C.a,{className:t.paper,square:!0},y.map(function(e,t){return d.a.createElement(A.a,{key:t,onClick:function(){return p(e)}},e.description)}))),d.a.createElement(T.a,{label:"Apt., Floor, Suite (optional)",value:n||"",onChange:i.bind(void 0,"address2"),className:t.textFieldBig,inputProps:{autoComplete:"address-line2"}}),d.a.createElement(T.a,{label:"City",value:r||"",onChange:i.bind(void 0,"city"),className:t.textFieldMedium,inputProps:{autoComplete:"city"},disabled:m}),d.a.createElement(T.a,{label:"Zip Code",value:E||"",onChange:i.bind(void 0,"zipcode"),className:t.textFieldSmall,inputComponent:k.a,inputProps:{autoComplete:"postal-code",mask:"99999",maskChar:" "},disabled:m}),d.a.createElement(T.a,{label:"State",value:b||"",onChange:s.bind(void 0,"state"),className:t.textFieldSmall,autoComplete:"state",inputProps:{autoComplete:"state"},disabled:m})),d.a.createElement("div",{className:t.footer},d.a.createElement("button",{className:t.previous,id:"prev-button",onClick:c},"Previous"),d.a.createElement(P.a,{isLoading:m,disabled:!h,id:"next-button",onClick:O},"Next")))}),U=function(e){var t=e.address1,a=e.zipcode,n=e.city,r=e.state;return!!(t&&a&&n&&Object(E.d)(r))},B=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).changeValue=function(e,t){a.setState(Object(i.a)({},e,t.target.value),a.checkValidity)},a.changeStateValue=function(e,t){a.setState(Object(i.a)({},e,t.target.value.trim().toUpperCase()),function(){return a.checkValidity()})},a.handleUpdateInput=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,a.setState({address1:n}),e.next=4,g(n);case 4:o=e.sent,a.setState({places:o,isPopoverOpen:!0});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleSelected=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoadingAddress:!0,isPopoverOpen:!1}),e.next=3,b(t.place_id);case 3:n=e.sent,o=n.address,i=n.addressFull,a.props.receiveUpdateUserAddress({address1:i.join(" "),city:o.locality||o.sublocality,state:o.state,zipcode:o.zipcode}),a.setState({isLoadingAddress:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.submit=Object(o.a)(r.a.mark(function e(){var t,n,o,i,s,c,l,p,m,u,d,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.baseUrl,o=t.orderPubkey,i=t.updateUserAddress,s=t.updateOrderAddress,c=a.state,l=c.address1,p=c.address2,m=c.zipcode,u=c.city,d=c.state,e.next=4,i({name:"Home",address1:l,address2:p,city:u,zipcode:m,state:d});case 4:return h=e.sent,e.next=7,s(o,h.pubkey);case 7:a.props.history.push("".concat(n,"/payment"));case 8:case"end":return e.stop()}},e,this)})),a.closePopover=function(){return a.setState({isPopoverOpen:!1})},a.popoverAnchor=d.a.createRef();var n=e.address,c=n.address1,m=n.address2,u=n.zipcode,h=n.city,f=n.state;return a.state={address1:c,address2:m,zipcode:u,city:h,state:f,isValid:U(e.address),places:[],storeError:!1,isLoadingAddress:!1,isPopoverOpen:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.orderPubkey&&this.props.user||(f.a.captureMessage("Checkout issue: Empty Store \ud83d\ude31"),this.setState({storeError:!0}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.address;t!==e.address&&this.setState({address1:t.address1,city:t.city,state:t.state,zipcode:t.zipcode},this.checkValidity)}},{key:"checkValidity",value:function(){this.setState({isValid:U(this.state)})}},{key:"render",value:function(){var e=this.state,t=e.address1,a=e.address2,n=e.city,r=e.isLoadingAddress,o=e.isPopoverOpen,i=e.isValid,s=e.missing_field,c=e.places,l=e.state,p=e.storeError,m=e.zipcode,u=this.props.history;return d.a.createElement(F,{address1:t,address2:a,city:n,closePopover:this.closePopover,isLoadingAddress:r,isPopoverOpen:o,isValid:i,missing_field:s,places:c,state:l,storeError:p,zipcode:m,handleUpdateInput:this.handleUpdateInput,popoverAnchor:this.popoverAnchor,handleSelected:this.handleSelected,changeValue:this.changeValue,changeStateValue:this.changeStateValue,goBack:function(){return u.goBack()},submit:this.submit})}}]),t}(u.Component);t.a=B},826:function(e,t,a){"use strict";var n=a(6),r=a(10),o=a(8),i=a(5),s=a(7),c=a(12),l=a(0),p=a.n(l),m=a(13),u=a(17),d=a.n(u),h=a(194),f=Object(m.withStyles)({root:{width:"100%",marginBottom:0,bottom:0,left:0,position:"fixed",textAlign:"center","&:hover":{backgroundColor:"white"}}})(function(e){return p.a.createElement(h.a,e)}),g=a(65),y=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.coupon,r=t.couponAmount,o=t.ctaDisabled,i=t.deliveryBy,s=t.freeOrder,c=t.onSubmitCheckout,l=t.totalPrice,m=t.totalPriceWithDiscount,u=t.productTypes,y=s?"Free Checkout":"Proceed to checkout";return p.a.createElement("span",{className:a.orderWrapper},p.a.createElement("div",{className:d()(a.totalContainer)},p.a.createElement("span",null,p.a.createElement("div",{className:a.totalHeader},"Order Summary")),i&&p.a.createElement("div",{className:a.subTitle},"ORDER NOW AND RECEIVE BY ",p.a.createElement("span",{className:a.totalDelivery},i),"."),p.a.createElement("span",null,u.map(function(t){var n=t.key,r=t.label,o=e.props[n];return p.a.createElement("div",{className:a.totalSub,key:n},0!==o.quantity&&p.a.createElement("div",{className:a.totalProduct},p.a.createElement("div",null,o.quantity," ",r),p.a.createElement("div",{className:d()(a.price,a.bold)},"$",o.price.toFixed(2))))})),p.a.createElement("hr",{className:d()(a.border)}),p.a.createElement("span",null,p.a.createElement("div",{className:a.totalSub},p.a.createElement("div",null,"subtotal"),p.a.createElement("div",{className:a.price},"$",l.toFixed(2))),n&&p.a.createElement("div",{className:d()(a.totalSub,a.peachText)},p.a.createElement("div",{className:a.smallSub},Object(g.a)(n.origin)),p.a.createElement("div",{className:a.price},"-$",r.toFixed(2))),p.a.createElement("div",{className:a.totalSub},p.a.createElement("div",{className:a.smallSub},"shipping (USPS)"),p.a.createElement("div",{className:a.price},"FREE"))),s?p.a.createElement("div",{className:d()(a.totalSub,a.mtop2)},p.a.createElement("span",{className:a.freeStrikeThrough},p.a.createElement("div",{className:a.greyText},"total (pre-tax)")),p.a.createElement("div",null,p.a.createElement("span",{className:a.freeStrikeThrough},p.a.createElement("div",{className:a.greyText},"$",m&&m.toFixed(2))),p.a.createElement("div",{className:a.free},"FREE"))):p.a.createElement("div",{className:a.totalSub},p.a.createElement("div",null,"total (pre-tax)"),p.a.createElement("div",{className:d()(a.price,a.bold)},"$",m&&m.toFixed(2))),p.a.createElement("div",{className:d()(a.totalSub,a.orderTime,a.smallNotes)},"100% satisfaction guaranteed"),p.a.createElement("div",{className:d()(a.mobileHide,a.buttonContainer)},p.a.createElement(h.a,{disabled:o,onClick:c,classes:{root:d()(a.ctaButton,a.ctaText)}},"Proceed to Checkout")),p.a.createElement("span",{className:a.desktopHide},p.a.createElement(f,{disabled:o,onTouchStart:c,classes:{root:a.ctaText}},y))))}}]),t}(l.Component);t.a=Object(m.withStyles)(function(e){return{root:{justifyContent:"flex-start"},totalContainer:Object(c.a)({alignSelf:"flex-start",background:"white",display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"space-around",padding:"20px 40px",margin:"0 20px 20px",fontFamily:e.typography.simplonMono},e.breakpoints.down("xs"),{margin:"20px 0 0",width:"100%",paddingBottom:70}),totalHeader:{fontSize:24,textTransform:"uppercase",textAlign:"center",margin:"20px 0"},totalSub:{display:"flex",flexDirection:"row",fontSize:"1em",justifyContent:"space-between",padding:"7px 0",textTransform:"uppercase",alignItems:"center"},totalProduct:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},totalDelivery:{textTransform:"uppercase"},border:{margin:"1.3em 0"},freeStrikeThrough:{textDecoration:"line-through",color:e.palette.common.peachRa},mtop2:{marginTop:20},greyText:{color:e.palette.common.grey},peachText:{color:e.palette.common.peachRa},free:{textAlign:"right",color:e.palette.common.peachRa},icon:{margin:7},label:{margin:7,fontSize:11,letterSpacing:e.typography.letterSpacingExtra,color:e.palette.common.grey},price:{fontFamily:e.typography.simplonMono,fontSize:13},orderTime:{textAlign:"center",color:e.palette.common.grey,display:"block",fontFamily:e.typography.simplonMono,letterSpacing:e.typography.letterSpacingNormal,fontSize:11,margin:"10px 0"},title:Object(c.a)({fontSize:28,textAlign:"center",fontFamily:e.typography.simplonNorm,textTransform:"uppercase",letterSpacing:e.typography.letterSpacingNormal,lineHeight:e.typography.lineHeightNormal},e.breakpoints.down("xs"),{fontSize:20,marginTop:10}),ctaText:{fontFamily:e.typography.simplonMono,letterSpacing:e.typography.letterSpacingNormal,zIndex:10},ctaButton:{padding:"0 35px",minWidth:225,width:"auto"},buttonContainer:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},desktopHide:Object(c.a)({},e.breakpoints.up("sm"),{display:"none"}),mobileHide:Object(c.a)({},e.breakpoints.down("xs"),{display:"none"}),red:{color:"red"},bold:{fontWeight:"bold"},smallSub:{fontSize:13,color:e.palette.common.grey},smallNotes:{fontSize:11},mtop1:{marginTop:10},mobilePrice:{fontSize:12,color:e.palette.common.noir,marginRight:25},mobileAlign:Object(c.a)({},e.breakpoints.down("xs"),{width:"100%",textAlign:"left"}),reviewContainer:{border:"1px solid ".concat(e.palette.common.grey),margin:20,padding:20},reviewText:{textAlign:"center",fontFamily:e.typography.simplonNorm,fontSize:12},reviewCTA:{textAlign:"center",fontFamily:e.typography.simplonMono,fontSize:14,fontWeight:600,marginTop:20,textTransform:"uppercase","& a":{color:e.palette.common.noir},"& icon":{width:10}},orderWrapper:Object(c.a)({},e.breakpoints.down("xs"),{width:"100%"}),subTitle:Object(c.a)({fontSize:11,textAlign:"center",fontFamily:e.typography.simplonNorm,letterSpacing:e.typography.letterSpacingNormal,lineHeight:e.typography.lineHeightNormal,marginBottom:20,color:e.palette.common.grey},e.breakpoints.down("xs"),{fontSize:12})}})(y)},827:function(e,t,a){"use strict";var n=a(12),r=a(0),o=a.n(r),i=a(195),s=a.n(i),c=a(13),l=Object(c.withStyles)(function(e){return{root:Object(n.a)({alignItems:"center",bottom:0,display:"flex",height:30,justifyContent:"space-around",left:0,margin:0,width:"100%","@media (max-height: 760px)":{display:"none"}},e.breakpoints.down("xs"),{display:"none"}),header:{alignItems:"center",display:"flex",fontSize:"1em",justifyContent:"center","& img":{margin:10}}}})(function(e){var t=e.classes,n=[{text:"FRESHLY MADE FOR YOU",picto:a(739)},{text:"FREE SHIPPING",picto:a(740)},{text:"SATISFACTION GUARANTEED ",picto:a(741)}];return o.a.createElement("div",{className:t.root},n.map(function(e,a){return o.a.createElement("div",{key:a,className:t.header},o.a.createElement("img",{alt:e.text,src:e.picto,width:"20px"}),e.text)}))}),p=a(198),m=a(57),u=a(690);t.a=Object(c.withStyles)(function(e){var t;return{paper:Object(n.a)({backgroundColor:e.palette.common.lightBackground},e.breakpoints.down("xs"),{minHeight:"100vh",minWidth:"100vw"}),paymentContainer:{fontSize:"16px"},headerContainer:(t={alignItems:"center",backgroundColor:"white",display:"flex",flexDirection:"column",height:110,justifyContent:"center"},Object(n.a)(t,e.breakpoints.up("sm"),{height:180}),Object(n.a)(t,"@media (max-height: 760px)",{height:110}),t),multiSteps:Object(n.a)({alignItems:"center",backgroundColor:e.palette.common.lightBackground,display:"flex",flexDirection:"column",justifyContent:"center",position:"relative"},e.breakpoints.up("sm"),{minHeight:"60vh"}),header:Object(n.a)({fontSize:"1.8em",fontWeight:300,margin:0,textTransform:"uppercase",letterSpacing:0,color:e.palette.common.secondaryBlack},e.breakpoints.up("sm"),{fontSize:"2.55em"}),total:Object(n.a)({fontSize:"1.2em",lineHeight:"1.5em",margin:"0 0 10px",opacity:.5,letterSpacing:0,fontFamily:e.typography.simplonNorm,color:e.palette.common.secondaryBlack},e.breakpoints.up("sm"),{fontSize:"1.4em"}),loaderContainer:{margin:9}}})(function(e){var t=e.amount,a=e.children,n=e.classes,r=e.isLoading,i=e.onClose;return o.a.createElement(s.a,{open:!0,fullWidth:!0,classes:{paper:n.paper}},r?o.a.createElement(p.a,null,function(e){var t=e.pastDelay;return o.a.createElement("div",{className:n.paymentContainer},o.a.createElement(u.a,{onClick:i}),o.a.createElement("div",{className:n.headerContainer},o.a.createElement("div",{className:n.header},"Checkout"),o.a.createElement("div",{className:n.total}," ")),o.a.createElement("div",{className:n.multiSteps},o.a.createElement("span",{className:n.loaderContainer},t?o.a.createElement(m.a,null):null)),o.a.createElement(l,null))}):o.a.createElement("div",{className:n.paymentContainer},o.a.createElement(u.a,{onClick:i}),o.a.createElement("div",{className:n.headerContainer},o.a.createElement("div",{className:n.header},"Checkout"),o.a.createElement("div",{className:n.total},t)),o.a.createElement("div",{className:n.multiSteps},a),o.a.createElement(l,null)))})},828:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(9),i=a(12),s=a(6),c=a(10),l=a(8),p=a(5),m=a(7),u=a(0),d=a.n(u),h=a(694),f=a(685),g=a(57),y=a(77),b=a(61),v=a(13),E=a(692),x=function(e){var t=e.classes,a=e.error,n=e.isLoading,r=e.isValid,o=e.first_name,i=e.last_name,s=e.phone,c=e.email,l=e.changeValue,p=e.validatePhoneFormat,m=e.phoneValidation,u=e.submit;return a?d.a.createElement(b.a,{href:"/consultation/checkout"}):n?d.a.createElement("div",null,d.a.createElement(g.a,null)):d.a.createElement("div",null,d.a.createElement(E.a,{active:1}),d.a.createElement("div",{className:t.textFields},d.a.createElement(f.a,{label:"First Name",value:o||"",onChange:l.bind(void 0,"first_name"),className:t.textFieldSmall,inputProps:{autoComplete:"given-name"}}),d.a.createElement(f.a,{label:"Last Name",value:i||"",onChange:l.bind(void 0,"last_name"),className:t.textFieldSmall,inputProps:{autoComplete:"family-name"}}),d.a.createElement(f.a,{onBlur:p,label:"Phone Number",value:s||"",onChange:l.bind(void 0,"phone"),className:t.textFieldBig,error:m?null:"Invalid Phone Number",inputComponent:h.a,inputProps:{mask:"999 999 9999",maskChar:" ",autoComplete:"tel",type:"tel"}}),d.a.createElement(f.a,{type:"email",label:"Email",value:c||"",onChange:l.bind(void 0,"email"),className:t.textFieldBig,inputProps:{autoComplete:"email",type:"email"}})),d.a.createElement("div",{className:t.footer},d.a.createElement(y.a,{disabled:!r||!m,id:"next-button",onClick:u},"Next")))};x.defaultProps={phoneValidation:!0};var k=Object(v.withStyles)(function(e){return{textFields:Object(i.a)({width:"100%",display:"flex",flexWrap:"wrap",padding:"0 5% 0 5%"},e.breakpoints.up("sm"),{padding:"0 15% 0 15%"}),textFieldSmall:Object(i.a)({paddingRight:2*e.spacing.unit,width:"100%"},e.breakpoints.up("sm"),{width:"50%"}),textFieldBig:{paddingRight:2*e.spacing.unit,width:"100%"},footer:{alignItems:"center",display:"flex",flexDirection:"column-reverse",paddingBottom:10}}})(x),O=function(e){return!!(e.first_name&&e.last_name&&e.email&&e.phone)},S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).changeValue=function(e,t){a.setState(Object(i.a)({},e,t.target.value),function(){return a.checkValidity()})},a.checkValidity=function(){a.state.phoneValidation||a.validatePhoneFormat(),a.setState({isValid:O(a.state)})},a.submit=Object(o.a)(r.a.mark(function e(){var t,n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props,n=t.baseUrl,o=t.history,(0,t.updateUser)({first_name:a.state.first_name,last_name:a.state.last_name,phone:a.state.phone,email:a.state.email}),o.push("".concat(n,"/address"));case 3:case"end":return e.stop()}},e,this)})),a.validatePhoneFormat=function(){a.state.phone.toString().match(/^[0-9]{3} [0-9]{3} [0-9]{4}$/)?a.setState({phoneValidation:!0}):a.setState({phoneValidation:!1})},a.state={first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone,phoneValidation:!0,isValid:O(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAddresses()}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.isLoadingUser,n=this.state,r=n.first_name,o=n.last_name,i=n.phone,s=n.email,c=n.phoneValidation,l=n.isValid;return d.a.createElement(k,{changeValue:this.changeValue,email:s,error:t,first_name:r,handleCardError:this.props.handleCardError,isLoading:a,isValid:l,last_name:o,phone:i,phoneValidation:c,submit:this.submit,validatePhoneFormat:this.validatePhoneFormat})}}]),t}(u.Component);t.a=S},836:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(4),i=a.n(o),s=a(199),c=a.n(s),l=a(211),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.a=function(e){var t=function(t){var a=t.wrappedComponentRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["wrappedComponentRef"]);return r.a.createElement(l.a,{children:function(t){return r.a.createElement(e,p({},n,t,{ref:a}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:i.a.func},c()(t,e)}},899:function(e,t,a){e.exports=a.p+"static/media/selfie.1f41aa9e.svg"},900:function(e,t,a){e.exports=a.p+"static/media/selfie_side_1.42e93aa1.jpg"},901:function(e,t,a){e.exports=a.p+"static/media/selfie_side_2.c4b86600.jpg"},902:function(e,t,a){e.exports=a.p+"static/media/selfie_top_1.8966c029.jpg"},903:function(e,t,a){e.exports=a.p+"static/media/selfie_top_2.4460c520.jpg"},904:function(e,t,a){e.exports=a.p+"static/media/mask_label.0046b496.jpg"},905:function(e,t,a){e.exports=a.p+"static/media/shampoo_label.56a178c7.jpg"},906:function(e,t,a){e.exports=a.p+"static/media/conditioner_label.70de6de5.jpg"}}]);
//# sourceMappingURL=8.e5769797.chunk.js.map